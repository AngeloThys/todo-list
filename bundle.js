(()=>{"use strict";Math.pow(10,8);var e=6e4,t=36e5;function n(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function o(o,f){var p;n(1,arguments);var g=r(null!==(p=null==f?void 0:f.additionalDigits)&&void 0!==p?p:2);if(2!==g&&1!==g&&0!==g)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof o&&"[object String]"!==Object.prototype.toString.call(o))return new Date(NaN);var y,v=function(e){var t,n={},r=e.split(c.dateTimeDelimiter);if(r.length>2)return n;if(/:/.test(r[0])?t=r[0]:(n.date=r[0],t=r[1],c.timeZoneDelimiter.test(n.date)&&(n.date=e.split(c.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){var o=c.timezone.exec(t);o?(n.time=t.replace(o[1],""),n.timezone=o[1]):n.time=t}return n}(o);if(v.date){var h=function(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var o=r[1]?parseInt(r[1]):null,c=r[2]?parseInt(r[2]):null;return{year:null===c?o:100*c,restDateString:e.slice((r[1]||r[2]).length)}}(v.date,g);y=function(e,t){if(null===t)return new Date(NaN);var n=e.match(a);if(!n)return new Date(NaN);var r=!!n[4],o=u(n[1]),c=u(n[2])-1,i=u(n[3]),s=u(n[4]),l=u(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,s,l)?function(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var o=7*(t-1)+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+o),r}(t,s,l):new Date(NaN);var f=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(d[t]||(m(e)?29:28))}(t,c,i)&&function(e,t){return t>=1&&t<=(m(e)?366:365)}(t,o)?(f.setUTCFullYear(t,c,Math.max(o,i)),f):new Date(NaN)}(h.restDateString,h.year)}if(!y||isNaN(y.getTime()))return new Date(NaN);var N,S=y.getTime(),E=0;if(v.time&&(E=function(n){var r=n.match(i);if(!r)return NaN;var o=l(r[1]),c=l(r[2]),a=l(r[3]);return function(e,t,n){return 24===e?0===t&&0===n:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(o,c,a)?o*t+c*e+1e3*a:NaN}(v.time),isNaN(E)))return new Date(NaN);if(!v.timezone){var D=new Date(S+E),C=new Date(0);return C.setFullYear(D.getUTCFullYear(),D.getUTCMonth(),D.getUTCDate()),C.setHours(D.getUTCHours(),D.getUTCMinutes(),D.getUTCSeconds(),D.getUTCMilliseconds()),C}return N=function(n){if("Z"===n)return 0;var r=n.match(s);if(!r)return 0;var o="+"===r[1]?-1:1,c=parseInt(r[2]),a=r[3]&&parseInt(r[3])||0;return function(e,t){return t>=0&&t<=59}(0,a)?o*(c*t+a*e):NaN}(v.timezone),isNaN(N)?new Date(NaN):new Date(S+E+N)}var c={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},a=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,i=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,s=/^([+-])(\d{2})(?::?(\d{2}))?$/;function u(e){return e?parseInt(e):1}function l(e){return e&&parseFloat(e.replace(",","."))||0}var d=[31,null,31,30,31,30,31,31,30,31,30,31];function m(e){return e%400==0||e%4==0&&e%100!=0}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e){n(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===f(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function g(e){n(1,arguments);var t=p(e);return t.setHours(0,0,0,0),t}var y={};function v(){return y}function h(e,t){var o,c,a,i,s,u,l,d;n(1,arguments);var m=v(),f=r(null!==(o=null!==(c=null!==(a=null!==(i=null==t?void 0:t.weekStartsOn)&&void 0!==i?i:null==t||null===(s=t.locale)||void 0===s||null===(u=s.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==a?a:m.weekStartsOn)&&void 0!==c?c:null===(l=m.locale)||void 0===l||null===(d=l.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==o?o:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=p(e),y=g.getDay(),h=(y<f?7:0)+y-f;return g.setDate(g.getDate()-h),g.setHours(0,0,0,0),g}function N(e){return H().filter((t=>parseInt(t.getProjectId())===parseInt(e)))}function S(){return H().filter((e=>{const t=new Date,r=o(e.getDueDate());return function(e){return n(1,arguments),function(e,t){n(2,arguments);var r=g(e),o=g(t);return r.getTime()===o.getTime()}(e,Date.now())}(r)||function(e,t){n(2,arguments);var r=p(e),o=p(t);return r.getTime()<o.getTime()}(r,t)}))}function E(){return function(e){let t;return function(e){return!!localStorage.getItem(e)}(e)||localStorage.setItem(e,"0"),t=parseInt(localStorage.getItem(e)),t++,localStorage.setItem(e,t),t}}function D(e){const t=document.createElement("div");let r;return"today"===e?r=S():"week"===e&&(r=H().filter((e=>function(e,t){return n(1,arguments),function(e,t,r){n(2,arguments);var o=h(e,r),c=h(t,r);return o.getTime()===c.getTime()}(e,Date.now(),t)}(o(e.getDueDate()))))),t.className="todoContainerList",r.forEach((e=>{const n=O(e.getProjectId());t.appendChild(C(n,e))})),t}function C(e,t){const n=function(){const e=document.createElement("div");return e.className="todoContainer",e}(),r=G(t),o=function(){const e=document.createElement("button"),t=document.createElement("img"),n=document.querySelector(".modifyTodo");return t.src="../images/maximize.svg",e.className="openTodo",e.appendChild(t),e.addEventListener("click",(()=>{n.showModal()})),e}(),c=W(e,t),a=R(t),i=function(e){const t=document.createElement("p"),n=document.querySelector(".modifyTodo");return t.className="descriptionTodo",t.textContent=e.getDescription(),t.addEventListener("click",(()=>{n.showModal(),function(e){const t=document.querySelector(".modifyTodo"),n=document.createElement("div"),r=O(e.getProjectId()),o=G(e),c=W(r,e),a=R(e),i=function(e){const t=document.createElement("textarea");return t.className="updateDescription",t.value=e.getDescription(),t.addEventListener("change",(()=>{!function(e,t){t.setDescription(e),F(t)}(t.value,e)})),t}(e),s=Y(e),u=$(e);n.className="modifyTodoContainer",n.replaceChildren(o,c,a,i,s,u),t.replaceChildren(n)}(e)})),t}(t),s=Y(t),u=$(t);return n.replaceChildren(r,o,c,a,i,s,u),n}function w(){document.querySelectorAll(".filter").forEach((e=>{const t=document.querySelector("main").childNodes[0].className,n=e.classList[1];("todayTodoView"===t&&"sortToday"===n||"weekTodoView"===t&&"sortWeek"===n)&&(e.classList.add("active"),e.classList.add("active"))}))}function T(){document.querySelectorAll(".filter").forEach((e=>{e.classList.remove("active"),e.classList.remove("active")}))}const b=E(),j={getId:function(){return this._id},setProjectId:function(e){return!!e&&(this._projectId=e)},getProjectId:function(){return this._projectId},setTitle:function(e){return e.length>0&&e.length<26&&(this._title=e)},getTitle:function(){return this._title},setDescription:function(e){return this._description=e},getDescription:function(){return this._description},setDueDate:function(e){return this._dueDate=e},getDueDate:function(){return this._dueDate},setPriority:function(e){switch(e){case"1":case"2":case"3":return this._priority=e;default:return!1}},getPriority:function(){return this._priority},setStatus:function(e){return"boolean"==typeof e&&(this._status=e)},getStatus:function(){return this._status}},k=E();function I(){let e=k("projectId");return Object.assign({isA:"project",_id:e},L)}const L={getId:function(){return this._id},setName:function(e){return e.length>0&&e.length<26&&(this._name=String(e))},getName:function(){return this._name},setHexColor:function(e){return!!/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/.test(e)&&(this._hexColor=String(e))},getHexColor:function(){return this._hexColor}};function q(){let e;return localStorage.getItem("projects")?(e=JSON.parse(localStorage.getItem("projects")),P(e),e):(x([function(){const e=I();return e.setName("Default"),e.setHexColor("#808080"),e}()]),e=JSON.parse(localStorage.getItem("projects")),P(e),e)}function P(e){e.forEach((e=>{Object.assign(e,L)}))}function x(e){localStorage.setItem("projects",JSON.stringify(e))}function O(e){return q().find((t=>t.getId()===parseInt(e)))}function _(e){const t=q(),n=e.getId(),r=t.find((e=>e.getId()===parseInt(n))),o=t.indexOf(r);return t.splice(o,1),x(t),t}function A(e){_(e);const t=q();t.push(e),x(t)}function H(){let e;return localStorage.getItem("todos")?(e=JSON.parse(localStorage.getItem("todos")),M(e),e):(localStorage.setItem("todos","[]"),e=JSON.parse(localStorage.getItem("todos")),M(e),e)}function M(e){e.forEach((e=>{Object.assign(e,j)}))}function U(e){localStorage.setItem("todos",JSON.stringify(e))}function V(e){const t=H(),n=e.getId(),r=t.find((e=>e.getId()===n)),o=t.indexOf(r);return t.splice(o,1),U(t),t}function F(e){V(e);const t=H();t.push(e),U(t)}function B(e){return n(1,arguments),p(e).getTime()<Date.now()}function z(){const e=document.querySelector("main"),t=document.createElement("div"),n=D("today");t.className="todayTodoView",t.replaceChildren(n),e.replaceChildren(t)}function J(){const e=document.querySelector("main"),t=document.createElement("div"),n=D("week");t.className="weekTodoView",t.replaceChildren(n),e.replaceChildren(t)}function Z(){const e=document.createElement("button"),t=document.querySelector(".createTodo"),n=function(){const e=document.createElement("img");return e.src="../images/plus.svg",e.className="addTodoLogo",e}();return e.className="addTodo",e.appendChild(n),e.addEventListener("click",(()=>{t.showModal()})),e}function $(e){const t=document.createElement("label"),n=document.createElement("input"),r=document.createElement("span"),o=e.getStatus();return t.className="todoStatusContainer",n.className="todoStatus",n.type="checkbox",n.checked=o,r.className="checkmark",t.replaceChildren(n,r),t.addEventListener("change",(()=>{!function(e,t){t.setStatus(e),F(t)}(n.checked,e)})),t}function Y(e){const t=document.createElement("input"),n=e.getDueDate(),r=o(n);return t.type="date",t.className="updateDueDate",t.value=n,B(r)?t.style.backgroundColor="darksalmon":t.style.backgroundColor="#eee",t.addEventListener("change",(()=>{!function(e,t){t.setDueDate(e),F(t)}(t.value,e),B(o(e.getDueDate()))?t.style.backgroundColor="darksalmon":t.style.backgroundColor="#eee"})),t}function R(e){const t=document.createElement("input"),n=e.getTitle();let r;return t.type="text",t.className="updateTitle",t.value=n,t.addEventListener("keyup",(()=>{clearTimeout(r);let n=t.value;r=setTimeout(function(e,t){t.setTitle(e),F(t)}(n,e),2e3)})),t}function W(e,t){const n=document.createElement("button"),r=document.createElement("img");return r.src="../images/delete.svg",n.className="deleteTodo",n.appendChild(r),n.addEventListener("click",(()=>{const n=document.querySelector("main").childNodes[0].className;switch(V(t),n){case"projectTodoView":te(e);break;case"todayTodoView":z();break;case"weekTodoView":J()}})),n}function G(e){const t=document.createElement("button");return t.className="cyclePriorityButton",t.appendChild(Q(e)),t.addEventListener("click",(()=>{!function(e){switch(e.getPriority()){case"1":K("2",e);break;case"2":K("3",e);break;case"3":K("1",e)}}(e),t.replaceChildren(Q(e))})),t}function K(e,t){t.setPriority(e),F(t)}function Q(e){const t=document.createElement("img");switch(e.getPriority()){case"1":t.src="../images/priority1.svg";break;case"2":t.src="../images/priority2.svg";break;case"3":t.src="../images/priority3.svg"}return t}function X(){const e=document.querySelector(".projects"),t=function(){const e=document.createElement("h2");return e.textContent="Projects",e}(),n=function(){const e=document.createElement("div"),t=q();return e.className="projectList",t.forEach((t=>{e.appendChild(function(e){const t=document.createElement("button"),n=function(e){const t=document.createElement("span"),n=function(e){return e.getHexColor()}(e);return t.className="colorLogo",t.style.backgroundColor=n,t}(e),r=function(e){const t=document.createElement("p");return t.className="projectName",t.textContent=e.getName(),t}(e),o=function(){const e=document.createElement("img");return e.className="projectLogo",e.src="../images/arrow-right.svg",e}();return t.className="project",t.setAttribute("data-project-id",e.getId()),t.replaceChildren(n,r,o),t.addEventListener("click",(()=>{te(e)})),t.addEventListener("mouseenter",(()=>{r.classList.add("hover"),o.classList.add("hover")})),t.addEventListener("mouseleave",(()=>{r.classList.remove("hover"),o.classList.remove("hover")})),t}(t))})),e}(),r=function(){const e=document.createElement("button"),t=document.querySelector(".createProject"),n=function(){const e=document.createElement("img");return e.src="../images/plus.svg",e.className="addProjectLogo",e}();return e.className="addProject",e.appendChild(n),e.addEventListener("click",(()=>{t.showModal()})),e}();e.replaceChildren(t,n,r)}function ee(e){const t=document.createElement("div"),n=function(e){const t=document.createElement("input"),n=e.getHexColor();return t.type="color",t.className="projectColorPicker",t.value=n,t.addEventListener("change",(()=>{const n=t.value;!function(e,t){e.setHexColor(t),A(e)}(e,n),X()})),t}(e),r=function(e){const t=document.createElement("input"),n=e.getName();return t.type="text",t.className="projectNameInput",t.value=n,t.addEventListener("change",(()=>{const n=t.value;!function(e,t){e.setName(t),A(e)}(e,n),X()})),t}(e),o=function(e){const t=document.createElement("img");return t.src="../images/delete.svg",t.className="projectDeleteButton",t.addEventListener("click",(()=>{_(e),ne(),X()})),t}(e);return t.className="projectHeader",1===e.getId()?t.replaceChildren(n,r):t.replaceChildren(n,r,o),t}function te(e){const t=N(e.getId());T(),re(),function(e){document.querySelectorAll(".project").forEach((t=>{parseInt(t.dataset.projectId)===e.getId()&&(t.childNodes[1].classList.add("active"),t.childNodes[2].classList.add("active"))}))}(e),0===t.length?function(e){const t=document.querySelector("main"),n=document.createElement("div"),r=document.createElement("div"),o=ee(e),c=function(){const e=document.createElement("h2");return e.className="emptyTodoListMessage",e.textContent="Try adding a todo...",e}(),a=Z();r.className="emptyHeader",r.replaceChildren(c,a),n.className="emptyView",n.replaceChildren(o,r),t.replaceChildren(n)}(e):function(e){const t=document.querySelector("main"),n=document.createElement("div"),r=ee(e),o=function(e){const t=N(e.getId()),n=document.createElement("div");return n.className="todoContainerList",t.forEach((t=>{n.appendChild(C(e,t))})),n}(e),c=Z();n.className="projectTodoView",n.replaceChildren(r,o),n.appendChild(c),t.replaceChildren(n)}(e),function(e){const t=e.getId();document.querySelector(".addTodo").setAttribute("data-project",t)}(e)}function ne(){te(q().find((e=>1===e.getId())))}function re(){const e=document.querySelectorAll(".projectName"),t=document.querySelectorAll(".projectLogo");e.forEach((e=>{e.classList.remove("active")})),t.forEach((e=>{e.classList.remove("active")}))}function oe(){const e=document.createElement("img");switch(ce()){case"1":e.src="../images/priority1.svg";break;case"2":e.src="../images/priority2.svg";break;case"3":e.src="../images/priority3.svg"}return e}function ce(){const e=document.querySelector(".cyclePriorityButton");let t;return t=null!=e?.dataset?.priority?e.dataset.priority:"1",t}document.querySelector(".sortToday").addEventListener("click",(()=>{re(),T(),z(),w()})),document.querySelector(".sortWeek").addEventListener("click",(()=>{re(),T(),J(),w()})),X(),ne(),function(){const e=document.querySelectorAll("dialog"),t=O(document.querySelector(".addTodo").dataset.project);e.forEach((e=>{e.addEventListener("click",(n=>{if("dialog"===n.target.localName){const n=document.querySelector(".todoContainerList").parentNode.className;"projectTodoView"===n?te(t):"todayTodoView"===n&&z(),e.close()}}))}))}(),document.querySelector(".createProjectButton").addEventListener("click",(()=>{const e=function(){const e=I(),t=q();return t.push(e),x(t),e}(),t=document.querySelector(".projectForm"),n=document.querySelector(".createProject"),r=document.querySelector("#projectName").value,o=document.querySelector("#projectColor").value;e.setName(r),e.setHexColor(o),A(e),t.reset(),X(),te(e),n.close()})),function(){const e=document.querySelector(".todoPriorityContainer"),t=function(){const e=document.createElement("button");return e.className="cyclePriorityButton",e.setAttribute("data-priority","1"),e.appendChild(oe()),e.addEventListener("click",(t=>{t.preventDefault(),function(){const e=document.querySelector(".cyclePriorityButton");switch(ce()){case"1":e.setAttribute("data-priority","2");break;case"2":e.setAttribute("data-priority","3");break;case"3":e.setAttribute("data-priority","1")}}(),e.replaceChildren(oe())})),e}();e.appendChild(t)}(),document.querySelector(".createTodoButton").addEventListener("click",(e=>{e.preventDefault();const t=document.querySelector(".addTodo").dataset.project,n=O(t),r=function(e){const t=function(){let e=b("todoId");return Object.assign({isA:"todo",_id:e},j)}(),n=H();return t.setProjectId(e),n.push(t),U(n),t}(t),o=document.querySelector(".todoForm"),c=document.querySelector(".createTodo"),a=document.querySelector("#todoTitle").value,i=document.querySelector("#todoDescription").value,s=document.querySelector("#todoDueDate").value,u=document.querySelector(".cyclePriorityButton").dataset.priority,l=document.querySelector(".todoStatus").checked;r.setTitle(a),r.setDescription(i),r.setDueDate(s),r.setPriority(u),r.setStatus(l),F(r),o.reset(),te(n),c.close()}))})();
//# sourceMappingURL=bundle.js.map